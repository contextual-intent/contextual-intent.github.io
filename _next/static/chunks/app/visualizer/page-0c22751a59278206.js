(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[546],{7094:function(e,t,r){Promise.resolve().then(r.bind(r,2229))},2229:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return h}});var a=r(7437),s=r(2265);let n=[{id:"travel_planning",name:"Travel Planning",icon:"✈️"},{id:"debate",name:"Policy Debate",icon:"\uD83C\uDFAD"}];function l(e){let{selectedExample:t,onExampleChange:r}=e;return(0,a.jsx)("div",{className:"flex gap-4 justify-center flex-wrap",children:n.map(e=>(0,a.jsxs)("button",{onClick:()=>r(e.id),className:"\n            px-6 py-2 rounded-lg font-medium text-base\n            transition-all duration-200\n            flex items-center gap-2\n            ".concat(t===e.id?"bg-white text-[#1a365d] border-2 border-[#1a365d] shadow-sm":"bg-transparent text-gray-600 border border-transparent hover:bg-gray-100 hover:text-[#1a365d]","\n          "),children:[(0,a.jsx)("span",{className:"text-xl",children:e.icon}),(0,a.jsx)("span",{children:e.name})]},e.id))})}function i(e){var t;let{turn:r,index:s,isHighlighted:n,questionNumber:l}=e,i={"pro-side-debater":{label:"Pro Side",color:"bg-blue-100 text-blue-800",icon:"\uD83D\uDC4D"},"con-side-debater":{label:"Con Side",color:"bg-red-100 text-red-800",icon:"\uD83D\uDC4E"},user:{label:"User",color:"bg-purple-100 text-purple-800",icon:"\uD83D\uDC64"},travel_agent:{label:"Travel Agent",color:"bg-emerald-100 text-emerald-800",icon:"\uD83E\uDDF3"}}[t=r.role]||{label:t,color:"bg-gray-100 text-gray-800",icon:"\uD83D\uDCAC"},{cleanContent:o,timestamp:d}=function(e){let t=e.match(/----TIMESTAMP:\s*([^\n]+)$/);if(t){let r=t[1].trim();return{cleanContent:e.replace(/----TIMESTAMP:\s*[^\n]+$/,"").trim(),timestamp:r}}return{cleanContent:e,timestamp:null}}(r.content),c=o.length>300?o.substring(0,300)+"...":o;return(0,a.jsxs)("div",{className:"\n        group relative p-4 rounded-lg border-2\n        transition-all duration-300 transform\n        ".concat(n?"bg-yellow-50 border-yellow-400 shadow-lg scale-[1.02] ring-2 ring-yellow-300":"bg-white border-gray-200 shadow-sm","\n      "),children:[(0,a.jsx)("div",{className:"absolute -top-3 -left-3 w-8 h-8 bg-gray-800 text-white rounded-full flex items-center justify-center text-sm font-bold shadow-md",children:s+1}),n&&l&&(0,a.jsxs)("div",{className:"absolute -top-3 right-4 bg-yellow-400 text-yellow-900 px-3 py-1.5 rounded-full flex items-center gap-1.5 shadow-md font-semibold text-xs border-2 border-yellow-600",children:[(0,a.jsx)("span",{children:"✓"}),(0,a.jsxs)("span",{children:["Ground truth for Q",l]})]}),(0,a.jsxs)("div",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-semibold mb-3 ".concat(i.color),children:[(0,a.jsx)("span",{children:i.icon}),(0,a.jsx)("span",{children:i.label})]}),(0,a.jsx)("div",{className:"text-sm text-gray-700 leading-relaxed mb-3",children:c}),d&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-500 pt-2 border-t border-gray-100",children:[(0,a.jsx)("span",{children:"\uD83D\uDD52"}),(0,a.jsx)("span",{children:function(e){try{let t=new Date(e),r=t.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),a=t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return"".concat(a," at ").concat(r)}catch(t){return e}}(d)})]})]})}function o(e){let{turns:t,highlightedTurns:r,currentQuestionNumber:n}=e,l=(0,s.useRef)({}),o=(0,s.useRef)(null);return t&&0!==t.length?(0,a.jsxs)("div",{className:"h-full flex flex-col bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl border-2 border-gray-200 shadow-inner",children:[(0,a.jsxs)("div",{className:"sticky top-0 z-10 bg-white/95 backdrop-blur-sm border-b-2 border-gray-200 px-6 py-4 rounded-t-xl",children:[(0,a.jsxs)("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-2xl",children:"\uD83D\uDCAC"}),(0,a.jsx)("span",{children:"Conversation Turns"}),(0,a.jsxs)("span",{className:"text-sm font-normal text-gray-500 ml-2",children:["(",t.length," turns)"]})]}),r.size>0&&(0,a.jsxs)("p",{className:"text-sm text-yellow-700 mt-2 flex items-center gap-2",children:[(0,a.jsx)("span",{className:"w-2 h-2 bg-yellow-400 rounded-full animate-pulse"}),r.size," ground truth turn",1!==r.size?"s":""," highlighted for Question ",n]})]}),(0,a.jsx)("div",{id:"conversation-scroll-container",ref:o,className:"flex-1 overflow-y-auto p-6 space-y-4",children:t.map((e,t)=>{let s=r.has(e.id);return(0,a.jsx)("div",{id:"turn-".concat(e.id),ref:t=>{t&&(l.current[e.id]=t)},children:(0,a.jsx)(i,{turn:e,index:t,isHighlighted:s,questionNumber:r.has(e.id)?n:void 0})},e.id)})})]}):(0,a.jsxs)("div",{className:"h-full flex flex-col bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl border-2 border-gray-200 shadow-inner",children:[(0,a.jsx)("div",{className:"sticky top-0 z-10 bg-white/95 backdrop-blur-sm border-b-2 border-gray-200 px-6 py-4 rounded-t-xl",children:(0,a.jsxs)("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-2xl",children:"\uD83D\uDCAC"}),(0,a.jsx)("span",{children:"Conversation Turns"})]})}),(0,a.jsx)("div",{className:"flex-1 flex items-center justify-center p-6",children:(0,a.jsx)("p",{className:"text-gray-500",children:"No conversation turns available"})})]})}let d={"type 1":{label:"Type 1: Incremental Memory Revision",description:"Following LongMemEval, these questions assess the ability to maintain and update entity states as they evolve (e.g., tracking restaurant candidates as they are added or rejected across turns).",color:"bg-blue-50 border-blue-300 text-blue-900",badgeColor:"bg-blue-500"},"type 2":{label:"Type 2: Context-Aware Factual Recall",description:"These questions test precise information retrieval amidst semantically similar content. Models must disambiguate details that differ only by context (e.g., retrieving a hotel price for Day 1 vs. Day 2).",color:"bg-emerald-50 border-emerald-300 text-emerald-900",badgeColor:"bg-emerald-500"},"type 3":{label:"Type 3: Context-Aware Multi-Hop Reasoning",description:'These questions require resolving referential expressions before retrieval. For example, answering a question about "the dinner reservation I mentioned earlier" requires first identifying the referent, then retrieving associated attributes.',color:"bg-purple-50 border-purple-300 text-purple-900",badgeColor:"bg-purple-500"},"type 4":{label:"Type 4: Information Synthesis",description:"These questions assess the ability to aggregate information distributed across multiple steps, such as reconstructing a complete itinerary from scattered bookings and visits.",color:"bg-amber-50 border-amber-300 text-amber-900",badgeColor:"bg-amber-500"}};function c(e){let{question:t,index:r,isSelected:n,onClick:l,onJumpToTurn:i}=e,[o,c]=(0,s.useState)(!1),x=d[t.type]||{label:t.type,description:"Question type information not available.",color:"bg-gray-50 border-gray-300 text-gray-900",badgeColor:"bg-gray-500"};return(0,a.jsxs)("div",{onClick:l,className:"\n        relative p-5 rounded-xl border transition-all duration-200 cursor-pointer\n        ".concat(n?"bg-white border-blue-500 ring-1 ring-blue-500 shadow-md z-10":"bg-white border-gray-200 hover:border-blue-300 hover:shadow-sm","\n      "),children:[(0,a.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("span",{className:"text-xs font-bold uppercase tracking-wider ".concat(n?"text-blue-600":"text-gray-500"),children:["Question ",r+1]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("span",{className:"px-2 py-0.5 text-[10px] font-medium bg-gray-100 text-gray-600 rounded-full border border-gray-200 cursor-help transition-colors hover:bg-gray-200 uppercase tracking-wide",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:x.label}),o&&(0,a.jsxs)("div",{className:"absolute left-0 top-full mt-2 w-64 p-3 bg-white text-gray-700 text-xs rounded-lg shadow-xl border border-gray-200 z-50",children:[x.description,(0,a.jsx)("div",{className:"absolute top-0 left-4 transform -translate-y-1/2 rotate-45 w-2 h-2 bg-white border-t border-l border-gray-200"})]})]})]})}),(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)("h3",{className:"text-sm leading-relaxed text-gray-700",children:t.content})}),(0,a.jsxs)("div",{className:"space-y-3 pt-3 border-t ".concat(n?"border-blue-100":"border-gray-100"),children:[(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide w-14 flex-shrink-0 pt-0.5",children:"Answer"}),(0,a.jsx)("p",{className:"text-sm text-gray-800 font-medium leading-relaxed",children:t.answer.free_form_answer||t.answer.multi_choice_answer||"N/A"})]}),(0,a.jsxs)("div",{className:"flex gap-3 items-start",children:[(0,a.jsx)("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-wide w-14 flex-shrink-0 pt-1",children:"Evidence"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-1.5",children:t.answer_turn_ids.map(e=>{let t=parseInt(e.split("-turn-")[1]);return(0,a.jsxs)("button",{onClick:t=>{t.stopPropagation(),null==i||i(e)},className:"px-2 py-0.5 text-[10px] bg-gray-50 hover:bg-blue-50 text-gray-600 hover:text-blue-700 rounded border border-gray-200 hover:border-blue-200 transition-colors font-mono font-medium",title:"Jump to turn",children:["T",t]},e)})})]})]})]})}function x(e){let{questions:t,onHighlightTurns:r,onJumpToTurn:n}=e,[l,i]=(0,s.useState)(0),o=(0,s.useRef)(null);return((0,s.useEffect)(()=>{t.length>0&&l<t.length&&r(t[l].answer_turn_ids,l+1)},[l,t,r]),0===t.length)?(0,a.jsx)("div",{className:"h-full flex flex-col bg-gray-50 rounded-xl border border-gray-200 shadow-inner",children:(0,a.jsx)("div",{className:"flex-1 flex items-center justify-center p-6",children:(0,a.jsx)("p",{className:"text-gray-500",children:"No questions available"})})}):(0,a.jsxs)("div",{className:"h-full flex flex-col bg-gray-50 rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[(0,a.jsxs)("div",{className:"flex-none bg-white border-b border-gray-200 px-6 py-4",children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("h2",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[(0,a.jsx)("span",{children:"Questions"}),(0,a.jsx)("span",{className:"bg-gray-100 text-gray-600 text-xs px-2 py-0.5 rounded-full border border-gray-200",children:t.length})]})}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Select a question to view its ground truth evidence."})]}),(0,a.jsx)("div",{ref:o,className:"flex-1 overflow-y-auto p-4 space-y-3",children:t.map((e,t)=>{let r=t===l;return(0,a.jsx)(c,{question:e,index:t,isSelected:r,onClick:()=>i(t),onJumpToTurn:n},e.id)})})]})}let u={debate:{name:"Policy Debate",turnsPath:"/benchmark_example_data/debate_example/debate_turns.jsonl",questionsPath:"/benchmark_example_data/debate_example/debate_questions.jsonl"},travel_planning:{name:"Travel Planning",turnsPath:"/benchmark_example_data/travel_plan_example/travel_planning_turns.jsonl",questionsPath:"/benchmark_example_data/travel_plan_example/travel_planning_questions.jsonl"}};async function m(e){let t=await fetch(e);return(await t.text()).split("\n").filter(e=>e.trim()).map(e=>JSON.parse(e))}async function g(e){let t=u[e],[r,a]=await Promise.all([m(t.turnsPath),m(t.questionsPath)]);return{turns:r,questions:a}}function h(){let[e,t]=(0,s.useState)("travel_planning"),[r,n]=(0,s.useState)(null),[i,d]=(0,s.useState)(!0),[c,u]=(0,s.useState)(new Set),[m,h]=(0,s.useState)(1);(0,s.useEffect)(()=>{!async function(){d(!0);try{let t=await g(e);n(t),u(new Set),h(1)}catch(e){console.error("Failed to load example data:",e)}finally{d(!1)}}()},[e]);let p=(0,s.useCallback)((e,t)=>{u(new Set(e)),h(t)},[]),b=(0,s.useCallback)(e=>{let t=document.getElementById("turn-".concat(e)),r=document.getElementById("conversation-scroll-container");if(t&&r){let e=r.getBoundingClientRect(),a=t.getBoundingClientRect(),s=r.scrollTop+a.top-e.top-100;r.scrollTo({top:s,behavior:"smooth"})}},[]);return(0,a.jsx)("main",{className:"min-h-screen pt-20 md:pt-24 pb-8 bg-gradient-to-br from-gray-50 via-blue-50 to-purple-50",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:"Benchmark Data Visualizer"}),(0,a.jsx)("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Explore sample benchmark data with interactive conversation turns and evaluation questions. Navigate through questions and see ground truth turns automatically highlighted. Click on turn tags to jump to specific conversation moments."})]}),(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)(l,{selectedExample:e,onExampleChange:t})}),!i&&r&&(0,a.jsx)("div",{className:"mb-6 p-6 bg-gray-50 rounded-lg border border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[(0,a.jsx)("div",{className:"flex-shrink-0 text-3xl",children:"⚠️"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Example Data Notice"}),(0,a.jsxs)("p",{className:"text-sm text-gray-700 leading-relaxed mb-3",children:["This visualizer displays ",(0,a.jsx)("strong",{children:"sample data only"})," to demonstrate the benchmark structure and evaluation methodology. The full dataset is available on our HuggingFace repository."]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[(0,a.jsxs)("a",{href:"https://huggingface.co/datasets/Seattleyrz/CAME-Bench",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-6 py-2 bg-[#FFD21E] text-gray-900 font-semibold rounded-lg hover:bg-[#F5C518] transition-colors shadow-sm",children:[(0,a.jsx)("span",{children:"\uD83E\uDD17"}),(0,a.jsx)("span",{children:"Access Full Dataset"}),(0,a.jsx)("span",{children:"→"})]}),(0,a.jsx)("p",{className:"text-xs text-gray-600 italic",children:"Note: We provide samples here to prevent data leakage and avoid unintended training by language models."})]})]})]})}),i&&(0,a.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Loading example data..."})]})}),!i&&r&&(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsx)("div",{className:"h-[calc(100vh-280px)] min-h-[500px]",children:(0,a.jsx)(o,{turns:r.turns,highlightedTurns:c,currentQuestionNumber:m})}),(0,a.jsx)("div",{className:"lg:sticky lg:top-24 lg:self-start h-[calc(100vh-280px)] min-h-[500px]",children:(0,a.jsx)(x,{questions:r.questions,onHighlightTurns:p,onJumpToTurn:b})})]})]})})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=7094)}),_N_E=e.O()}]);